(function(t){function e(e){for(var n,c,s=e[0],u=e[1],a=e[2],p=0,d=[];p<s.length;p++)c=s[p],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,a||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,s=1;s<o.length;s++){var u=o[s];0!==r[u]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},r={app:0},i=[];function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/glowing-sniffle/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var a=0;a<s.length;a++)e(s[a]);var l=u;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0089":function(t,e,o){},"01c7":function(t,e,o){},"31c5":function(t,e,o){},"320f":function(t,e,o){"use strict";o("ea19")},3686:function(t,e,o){"use strict";o("31c5")},"4be8":function(t,e,o){"use strict";o("0089")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{modal:t.showSorter},attrs:{id:"app"}},[o("div",{staticClass:"controls"},[o("button",{on:{click:t.sort}},[t._v("Click to sort blocks")])]),o("Composition",{attrs:{blocks:t.blocks}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showSorter,expression:"showSorter"}],staticClass:"sorter-outer"},[o("div",{staticClass:"sorter-inner"},[t.showInstructions?o("div",{staticClass:"instructions"},[o("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"close",on:{click:function(e){t.showInstructions=!1}}},[o("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[o("path",{attrs:{fill:"currentColor",d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"}})])]),t._m(0),o("center",[o("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showInstructions=!1}}},[t._v("Got it")])])],1):o("div",[o("div",{staticClass:"toolbar"},[o("button",{on:{click:function(e){t.showSorter=!1}}},[t._v("Save and Close")])]),o("Sorter",{on:{input:function(e){return t.$emit("input",e)}},model:{value:t.blocks,callback:function(e){t.blocks=e},expression:"blocks"}})],1)])])],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",[o("li",[t._v(" You can sort blocks, create rows with up to 3 blocks, delete blocks ")]),o("li",[t._v("Drag rows of blocks up and down to sort")]),o("li",[t._v("Click on row to micromanage blocks in row")]),o("li",[t._v(" Click on ⇐ and ⇒ buttons to move block out of selected row ")]),o("li",[t._v(" Click on red trash can symbol to delete block ")])])}],c=(o("4160"),o("d81d"),o("13d5"),o("159b"),o("5530")),s=o("2909"),u=o("15fd"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("article",{staticClass:"block text-block",style:t.blockStyle},[o("header",{domProps:{textContent:t._s(t.header)}}),o("section",{domProps:{innerHTML:t._s(t.text)}})])},l=[],p={name:"TextBlock",props:{header:{type:String,required:!0},text:{type:String,required:!0},color:{type:String,default:"#333"},background:{type:String,default:"#fff"}},computed:{blockStyle:function(){return{backgroundColor:this.background,color:this.color}}}},d=p,f=(o("3686"),o("2877")),m=Object(f["a"])(d,a,l,!1,null,"d307e070",null),b=m.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("article",{staticClass:"block text-block",style:t.blockStyle},[o("a",{style:t.buttonStyle,attrs:{href:t.url,target:"_blank"},domProps:{innerHTML:t._s(t.text)},on:{click:function(t){t.preventDefault()}}})])},h=[],g=(o("a9e3"),{name:"ButtonBlock",props:{text:{type:String,required:!0},url:{type:String,required:!0},color:{type:String,default:"#333"},button:{type:String,default:"#ccc"},background:{type:String,default:"#fff"},size:{type:Number,default:100}},computed:{blockStyle:function(){return{backgroundColor:this.background,color:this.color}},buttonStyle:function(){return{backgroundColor:this.button,color:this.color,width:"".concat(this.size,"px")}}}}),w=g,y=(o("fcd3"),Object(f["a"])(w,v,h,!1,null,"10a4a28b",null)),k=y.exports,x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("article",{staticClass:"block image-block",style:t.blockStyle},[o("a",{attrs:{href:t.url,target:"_blank"},on:{click:function(t){t.preventDefault()}}},[o("img",{attrs:{src:t.src,alt:t.alt,width:"100%"}})])])},S=[],C={name:"ImageBlock",props:{src:{type:String,required:!0},url:{type:String,required:!0},alt:{type:String,default:"image"},background:{type:String,default:"#fff"},width:{type:String,default:"auto"}},computed:{blockStyle:function(){return{backgroundColor:this.background}}}},_=C,O=(o("4be8"),Object(f["a"])(_,x,S,!1,null,"5e41a210",null)),L=O.exports;function j(t){var e=function(t,e){var o=t.id,n=t.row,r=t.position,i=t.type,c=Object(u["a"])(t,["id","row","position","type"]);return{component:e,id:o,row:n,position:r,type:i,props:c}};return t.map((function(t){switch(t.type){case"text":return e(t,b);case"button":return e(t,k);case"image":return e(t,L)}}))}function M(t){var e=Object(s["a"])(t).sort((function(t,e){return t.row-e.row||t.position-e.position})),o=function(t,e){var o=Object(s["a"])(t);return o[e.row]=o[e.row]||[],o[e.row][e.position]=e,o};return e.reduce(o,[])}function $(t){var e=[];return t.forEach((function(t,o){t.forEach((function(t,n){e.push(Object(c["a"])(Object(c["a"])({},t),{},{row:o,position:n}))}))})),e.sort((function(t,e){return t.row-e.row||t.position-e.position})),e}var H=[{id:"i1",type:"image",src:"images/img1.jpg",url:"#",alt:"Ultra posse nemo obligatur",background:"#194d19",row:0,position:0},{id:"t1",type:"text",header:"Vita brevis ars longa",text:"Sed aliquet tempus mauris, ac mollis magna semper sit amet. Nunc nulla dolor, sollicitudin et nisi sed, sagittis mattis arcu. Morbi blandit sagittis enim sed ullamcorper.",color:"#777777",background:"#ffe6ff",row:1,position:0},{id:"b1",type:"button",text:"Picto",color:"#ccc",url:"#",button:"#000",background:"#ffe6ff",row:1,position:1},{id:"i2",type:"image",src:"images/img2.jpg",url:"#",alt:"Semper homo bonus tiro est",background:"#194d19",row:2,position:0},{id:"i3",type:"image",src:"images/img3.jpg",url:"#",alt:"Quid est veritas?",background:"#194d19",row:2,position:1},{id:"t2",type:"text",header:"Virtūtem primam esse puta compescĕre linguam",text:"Etiam pellentesque neque sed accumsan blandit. Quisque posuere ex molestie odio maximus, nec commodo diam condimentum.",color:"#777777",background:"#ffe6ff",row:3,position:0},{id:"b2",type:"button",text:"Persōna",color:"#777777",url:"#",button:"#ccc",background:"#194d19",row:4,position:0},{id:"b3",type:"button",text:"Aeternitātis",color:"#777777",url:"#",button:"#ccc",background:"#194d19",row:4,position:1},{id:"b4",type:"button",text:"Prosit",color:"#777777",url:"#",button:"#ccc",background:"#194d19",row:4,position:2}],B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"composition"}},t._l(t.rows,(function(t,e){return o("div",{key:e,staticClass:"wrapper"},[o("composition-row",{key:e,attrs:{value:t}})],1)})),0)},q=[],E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row"},t._l(t.value,(function(e){return o("div",{key:e.id,staticClass:"col",style:t.columnStyle},[o(e.component,t._b({key:e.id,tag:"component"},"component",e.props,!1))],1)})),0)},P=[],V=(o("b680"),{name:"CompositionRow",props:{value:{type:Array,requied:!0}},computed:{cols:function(){return this.value.length},columnStyle:function(){return{width:"".concat((100/this.cols).toFixed(2),"%")}}}}),R=V,T=(o("a067"),Object(f["a"])(R,E,P,!1,null,"3a0152c2",null)),A=T.exports,I={name:"Composition",components:{CompositionRow:A},props:{blocks:{type:Array,required:!0}},computed:{rows:function(){return M(Object(s["a"])(this.blocks))}}},N=I,D=(o("8493"),Object(f["a"])(N,B,q,!1,null,null,null)),Z=D.exports,z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("draggable",{attrs:{group:"rows",id:"sorter",animation:150,value:t.rows},on:{input:t.input}},t._l(t.rows,(function(e,n){return o("SortableRow",{key:n,attrs:{value:e,sortable:t.active>=0,active:t.active===n},on:{input:function(e){return t.updateRow(n,e)},"move-out":function(e){return t.moveOut(n,e)},delete:function(e){return t.deleteBlock(n,e)},activate:function(e){t.active=n},deactivate:function(e){t.active=-1}}})})),1)},F=[],J=(o("4de4"),o("a434"),o("b76a")),Q=o.n(J),U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper",class:{active:t.active},on:{click:t.activate,mouseleave:t.mouseLeave}},[o("button",{staticClass:"move-out",attrs:{disabled:1===t.cols,title:"Move first block out of group"},on:{click:function(e){return t.moveOut(0)}}},[o("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[o("path",{attrs:{fill:"currentColor",d:"M11.92,19.92L4,12L11.92,4.08L13.33,5.5L7.83,11H22V13H7.83L13.34,18.5L11.92,19.92M4,12V2H2V22H4V12Z"}})])]),o("draggable",{staticClass:"row",attrs:{group:t.group,fallbackOnBody:"",animation:150,disabled:!t.isSortable,swapThreshold:.65,value:t.value},on:{input:function(e){return t.$emit("input",e)}}},t._l(t.value,(function(e,n){return o("div",{key:e.id,class:{col:!0,active:t.active&&t.selectedColumn===n},style:t.columnStyle,on:{mousein:function(e){t.selectedColumn=n},mousemove:function(e){t.selectedColumn=n},mouseout:function(e){t.selectedColumn=-1}}},[o("button",{staticClass:"delete",on:{click:function(e){return t.deleteBlock(n)}}},[o("svg",{staticStyle:{width:"32px",height:"32px"},attrs:{viewBox:"0 0 24 24"}},[o("path",{attrs:{fill:"currentColor",d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}})])]),o(e.component,t._b({key:e.id,tag:"component"},"component",e.props,!1))],1)})),0),o("button",{staticClass:"move-in",attrs:{disabled:1===t.cols,title:"Move next block into group"},on:{click:function(e){return t.moveOut(t.cols-1)}}},[o("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[o("path",{attrs:{fill:"currentColor",d:"M12.08,4.08L20,12L12.08,19.92L10.67,18.5L16.17,13H2V11H16.17L10.67,5.5L12.08,4.08M20,12V22H22V2H20V12Z"}})])])],1)},G=[],Y={name:"SortableRow",components:{draggable:Q.a},props:{value:{type:Array,requied:!0},sortable:{type:Boolean,default:!0},active:{type:Boolean,default:!1},zoom:{type:Number,default:.3}},data:function(){return{selectedColumn:-1}},computed:{cols:function(){return this.value.length},isSortable:function(){return this.sortable},columnStyle:function(){return{width:"".concat((100/this.cols).toFixed(2),"%")}},group:function(){return this.cols<3||this.active?"cols":"none"}},methods:{activate:function(){this.$emit("activate")},deactivate:function(){this.$emit("deactivate")},mouseEnter:function(){var t=this;this.timer=setTimeout((function(){return t.activate()}),1e3)},mouseLeave:function(){this.deactivate(),clearTimeout(this.timer)},moveOut:function(t){this.$emit("move-out",t)},deleteBlock:function(t){this.$emit("delete",t)}}},K=Y,W=(o("f65d"),Object(f["a"])(K,U,G,!1,null,"ceb66e60",null)),X=W.exports,tt={name:"Sorter",components:{SortableRow:X,draggable:Q.a},props:{value:{type:Array,required:!0}},data:function(){return{sortableRows:!1,rows:[],active:-1}},beforeMount:function(){this.updateRows()},beforeUpdate:function(){this.updateRows(),console.log("----")},methods:{updateRows:function(){this.rows=M(this.value)},emit:function(t){this.$emit("input",$(t))},input:function(t){this.emit(t)},updateRow:function(t,e){var o=this.rows.map((function(o,n){return n===t?e:o})).filter((function(t){return t.length}));this.emit(o)},moveOut:function(t,e){var o=Object(s["a"])(this.rows),n=o[t][e];o[t].splice(e,1),0===e?(this.active=t,o.splice(t,0,[n])):(o.splice(t+1,0,[n]),this.active=t+1),this.emit(o)},deleteBlock:function(t,e){var o=Object(s["a"])(this.rows);o[t].splice(e,1),this.emit(o.filter((function(t){return t.length})))}}},et=tt,ot=(o("320f"),Object(f["a"])(et,z,F,!1,null,null,null)),nt=ot.exports,rt={name:"App",components:{Composition:Z,Sorter:nt},data:function(){return{showSorter:!1,showInstructions:!0,blocks:j(H)}},methods:{sort:function(){this.showSorter=!0}}},it=rt,ct=(o("5c0b"),Object(f["a"])(it,r,i,!1,null,null,null)),st=ct.exports,ut=o("1881"),at=o.n(ut);n["a"].use(at.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(st)}}).$mount("#app")},"5a0a":function(t,e,o){},"5c0b":function(t,e,o){"use strict";o("9c0c")},7575:function(t,e,o){},8493:function(t,e,o){"use strict";o("7575")},"9c0c":function(t,e,o){},a067:function(t,e,o){"use strict";o("01c7")},e6bd:function(t,e,o){},ea19:function(t,e,o){},f65d:function(t,e,o){"use strict";o("e6bd")},fcd3:function(t,e,o){"use strict";o("5a0a")}});
//# sourceMappingURL=app.43f9f8c5.js.map